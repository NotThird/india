---
/**
 * DressCodeCard Component
 * Quick reference for what to wear to each event
 */
import dresscodeData from "../data/dresscode.json";

const events = dresscodeData.events;
---

<div class="dresscode-card">
  <h3 class="dresscode-title">
    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M20.38 3.46L16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z"></path>
    </svg>
    What to Wear
  </h3>

  <div class="events-accordion">
    {events.map((event, index) => (
      <details class="event-details" open={index === 0}>
        <summary class="event-summary">
          <span class="event-name">{event.name}</span>
          <span class="event-date">{event.date}</span>
        </summary>
        <div class="event-content">
          <div class="dress-row">
            <span class="dress-icon">W</span>
            <span class="dress-text">{event.dresscode.women}</span>
          </div>
          <div class="dress-row">
            <span class="dress-icon dress-icon-men">M</span>
            <span class="dress-text">{event.dresscode.men}</span>
          </div>
          {event.dresscode.tip && (
            <div class="dress-tip">
              <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="10"></circle>
                <line x1="12" y1="16" x2="12" y2="12"></line>
                <line x1="12" y1="8" x2="12.01" y2="8"></line>
              </svg>
              {event.dresscode.tip}
            </div>
          )}
        </div>
      </details>
    ))}
  </div>
</div>

<style>
  .dresscode-card {
    background: white;
    border-radius: var(--radius-card);
    padding: var(--spacing-4);
    box-shadow: var(--shadow-card);
    border-left: 4px solid var(--color-purple-500);
  }

  .dresscode-title {
    display: flex;
    align-items: center;
    gap: var(--spacing-2);
    font-size: var(--font-size-lg);
    color: var(--color-purple-600);
    margin: 0 0 var(--spacing-3) 0;
  }

  .events-accordion {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-2);
  }

  .event-details {
    border: 1px solid var(--color-earth-200);
    border-radius: var(--radius-button);
    overflow: hidden;
  }

  .event-details[open] {
    border-color: var(--color-purple-200);
  }

  .event-summary {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--spacing-3);
    cursor: pointer;
    background: var(--color-earth-50);
    font-weight: var(--font-weight-medium);
    list-style: none;
  }

  .event-summary::-webkit-details-marker {
    display: none;
  }

  .event-details[open] .event-summary {
    background: var(--color-purple-50);
  }

  .event-name {
    font-size: var(--font-size-sm);
    color: var(--color-earth-800);
  }

  .event-date {
    font-size: var(--font-size-xs);
    color: var(--color-text-muted);
  }

  .event-content {
    padding: var(--spacing-3);
    display: flex;
    flex-direction: column;
    gap: var(--spacing-2);
    background: white;
  }

  .dress-row {
    display: flex;
    align-items: flex-start;
    gap: var(--spacing-2);
  }

  .dress-icon {
    flex-shrink: 0;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    background: var(--color-rose-100);
    color: var(--color-rose-600);
    font-size: 10px;
    font-weight: var(--font-weight-bold);
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .dress-icon-men {
    background: var(--color-blue-100);
    color: var(--color-blue-600);
  }

  .dress-text {
    font-size: var(--font-size-sm);
    color: var(--color-earth-700);
    line-height: 1.4;
  }

  .dress-tip {
    display: flex;
    align-items: flex-start;
    gap: var(--spacing-1);
    font-size: var(--font-size-xs);
    color: var(--color-purple-600);
    background: var(--color-purple-50);
    padding: var(--spacing-2);
    border-radius: var(--radius-button);
    margin-top: var(--spacing-1);
  }

  .dress-tip svg {
    flex-shrink: 0;
    margin-top: 1px;
  }

  @media (max-width: 600px) {
    .dresscode-card {
      padding: var(--spacing-3);
    }

    .event-summary {
      padding: var(--spacing-2);
    }

    .event-content {
      padding: var(--spacing-2);
    }

    .dress-text {
      font-size: var(--font-size-xs);
    }
  }
</style>
