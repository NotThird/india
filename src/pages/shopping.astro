---
/**
 * Shopping Guide Page (shopping.astro)
 *
 * Purpose: Comprehensive Chennai shopping guide for Tamil wedding attire.
 *
 * Content:
 * - Introduction to Chennai shopping for wedding guests
 * - Quick navigation to shopping areas
 * - Women's attire guide (Kanjeevaram sarees, traditional wear)
 * - Men's attire guide (Sherwani, kurta, dhoti, veshti)
 * - Shopping areas with embedded maps and shop cards
 * - General tips section (bargaining, quality, timing, payment)
 *
 * Route: /shopping
 */

import BaseLayout from "../layouts/BaseLayout.astro";
import Card from "../components/Card.astro";
import ShoppingAreaSection from "../components/ShoppingAreaSection.astro";
import type { ShoppingData } from "../types/data";

// Import shopping data
import shoppingDataRaw from "../data/shopping.json";
const shoppingData = shoppingDataRaw as ShoppingData;

// Separate areas for display
const mainAreas = shoppingData.areas.filter((area) =>
  ["t-nagar", "mylapore", "kanchipuram"].includes(area.id)
);
const mensWearArea = shoppingData.areas.find((area) => area.id === "chennai-menswear");
---

<BaseLayout
  title="Shopping Guide"
  description="Complete Chennai shopping guide for Tamil wedding attire - silk sarees, sherwanis, kurtas, and more"
>
  <div class="shopping-container">
    <!-- Page Header -->
    <header class="page-header">
      <div class="header-content">
        <h1 class="page-title">Chennai Shopping Guide</h1>
        <p class="page-subtitle">
          Your complete guide to shopping for Tamil wedding attire in Chennai.
          From luxurious Kanjeevaram silk sarees to elegant sherwanis, find the
          perfect outfits for every ceremony.
        </p>
      </div>
    </header>

    <!-- Quick Navigation -->
    <nav class="quick-nav" aria-label="Shopping areas">
      <div class="nav-label">Jump to:</div>
      <div class="nav-links">
        <a href="#womens-guide" class="nav-link">
          <span class="nav-icon women">W</span>
          Women's Guide
        </a>
        <a href="#mens-guide" class="nav-link">
          <span class="nav-icon men">M</span>
          Men's Guide
        </a>
        {mainAreas.map((area) => (
          <a href={`#area-${area.id}`} class="nav-link">
            {area.name.split(" ")[0]}
          </a>
        ))}
        <a href="#general-tips" class="nav-link">Tips</a>
      </div>
    </nav>

    <!-- Attire Guides Section -->
    <section class="attire-guides">
      <!-- Women's Attire Guide -->
      <div id="womens-guide" class="attire-guide">
        <Card class="guide-card">
          <div class="guide-header women">
            <div class="guide-icon">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="32"
                height="32"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="1.5"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <path d="M12 2a4 4 0 0 0-4 4v2a4 4 0 0 0 8 0V6a4 4 0 0 0-4-4z" />
                <path d="M6 10h12l-1.5 12H7.5L6 10z" />
              </svg>
            </div>
            <h2 class="guide-title">Women's Wedding Attire</h2>
          </div>
          <div class="guide-content">
            <div class="recommendations">
              <h3>Recommended Attire</h3>
              <ul>
                {shoppingData.attireGuide.womenGuests.recommended.map((item) => (
                  <li>{item}</li>
                ))}
              </ul>
            </div>
            <div class="colors-section">
              <h3>Colors</h3>
              <p>{shoppingData.attireGuide.womenGuests.colors}</p>
            </div>
            <div class="attire-tips">
              <h3>Tips</h3>
              <ul>
                {shoppingData.attireGuide.womenGuests.tips.map((tip) => (
                  <li>{tip}</li>
                ))}
              </ul>
            </div>
            <div class="price-guide">
              <h3>Price Ranges</h3>
              <div class="price-table">
                <div class="price-row">
                  <span class="price-label">Budget (Rs)</span>
                  <span class="price-value">{shoppingData.attireGuide.priceRanges.budget.sarees}</span>
                </div>
                <div class="price-row">
                  <span class="price-label">Mid-Range (Rs Rs)</span>
                  <span class="price-value">{shoppingData.attireGuide.priceRanges.mid.sarees}</span>
                </div>
                <div class="price-row">
                  <span class="price-label">Premium (Rs Rs Rs)</span>
                  <span class="price-value">{shoppingData.attireGuide.priceRanges.midHigh.sarees}</span>
                </div>
                <div class="price-row">
                  <span class="price-label">Luxury (Rs Rs Rs Rs)</span>
                  <span class="price-value">{shoppingData.attireGuide.priceRanges.luxury.sarees}</span>
                </div>
              </div>
            </div>
          </div>
        </Card>
      </div>

      <!-- Men's Attire Guide -->
      <div id="mens-guide" class="attire-guide">
        <Card class="guide-card">
          <div class="guide-header men">
            <div class="guide-icon">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="32"
                height="32"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="1.5"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <path d="M20.38 3.46L16 2a4 4 0 01-8 0L3.62 3.46a2 2 0 00-1.34 2.23l.58 3.47a1 1 0 00.99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 002-2V10h2.15a1 1 0 00.99-.84l.58-3.47a2 2 0 00-1.34-2.23z" />
              </svg>
            </div>
            <h2 class="guide-title">Men's Wedding Attire</h2>
          </div>
          <div class="guide-content">
            <div class="recommendations">
              <h3>Recommended Attire</h3>
              <ul>
                {shoppingData.attireGuide.menGuests.recommended.map((item) => (
                  <li>{item}</li>
                ))}
              </ul>
            </div>
            <div class="colors-section">
              <h3>Colors</h3>
              <p>{shoppingData.attireGuide.menGuests.colors}</p>
            </div>
            <div class="attire-tips">
              <h3>Tips</h3>
              <ul>
                {shoppingData.attireGuide.menGuests.tips.map((tip) => (
                  <li>{tip}</li>
                ))}
              </ul>
            </div>
            <div class="price-guide">
              <h3>Price Ranges (Sherwanis / Kurtas)</h3>
              <div class="price-table">
                <div class="price-row">
                  <span class="price-label">Budget</span>
                  <span class="price-value">{shoppingData.attireGuide.priceRanges.budget.sherwanis} / {shoppingData.attireGuide.priceRanges.budget.kurtas}</span>
                </div>
                <div class="price-row">
                  <span class="price-label">Mid-Range</span>
                  <span class="price-value">{shoppingData.attireGuide.priceRanges.mid.sherwanis} / {shoppingData.attireGuide.priceRanges.mid.kurtas}</span>
                </div>
                <div class="price-row">
                  <span class="price-label">Premium</span>
                  <span class="price-value">{shoppingData.attireGuide.priceRanges.midHigh.sherwanis} / {shoppingData.attireGuide.priceRanges.midHigh.kurtas}</span>
                </div>
              </div>
            </div>
          </div>
        </Card>
      </div>
    </section>

    <!-- Shopping Areas -->
    <section class="shopping-areas">
      <h2 class="section-title">Shopping Destinations</h2>

      {mainAreas.map((area) => (
        <ShoppingAreaSection area={area} />
      ))}

      {mensWearArea && (
        <ShoppingAreaSection area={mensWearArea} />
      )}
    </section>

    <!-- General Tips Section -->
    <section id="general-tips" class="general-tips">
      <h2 class="section-title">Shopping Tips</h2>

      <div class="tips-grid">
        <!-- Bargaining Tips -->
        <Card class="tip-card">
          <div class="tip-header">
            <div class="tip-icon bargaining">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <line x1="12" y1="1" x2="12" y2="23"></line>
                <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
              </svg>
            </div>
            <h3>Bargaining</h3>
          </div>
          <ul class="tip-list">
            {shoppingData.generalTips.bargaining.map((tip) => (
              <li>{tip}</li>
            ))}
          </ul>
        </Card>

        <!-- Quality Tips -->
        <Card class="tip-card">
          <div class="tip-header">
            <div class="tip-icon quality">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>
              </svg>
            </div>
            <h3>Quality Check</h3>
          </div>
          <ul class="tip-list">
            {shoppingData.generalTips.quality.map((tip) => (
              <li>{tip}</li>
            ))}
          </ul>
        </Card>

        <!-- Timing Tips -->
        <Card class="tip-card">
          <div class="tip-header">
            <div class="tip-icon timing">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <circle cx="12" cy="12" r="10"></circle>
                <polyline points="12 6 12 12 16 14"></polyline>
              </svg>
            </div>
            <h3>Best Times to Visit</h3>
          </div>
          <ul class="tip-list">
            {shoppingData.generalTips.timing.map((tip) => (
              <li>{tip}</li>
            ))}
          </ul>
        </Card>

        <!-- Payment Tips -->
        <Card class="tip-card">
          <div class="tip-header">
            <div class="tip-icon payment">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect>
                <line x1="1" y1="10" x2="23" y2="10"></line>
              </svg>
            </div>
            <h3>Payment</h3>
          </div>
          <ul class="tip-list">
            {shoppingData.generalTips.payment.map((tip) => (
              <li>{tip}</li>
            ))}
          </ul>
        </Card>

        <!-- Transport Tips -->
        <Card class="tip-card">
          <div class="tip-header">
            <div class="tip-icon transport">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <rect x="1" y="3" width="15" height="13"></rect>
                <polygon points="16 8 20 8 23 11 23 16 16 16 16 8"></polygon>
                <circle cx="5.5" cy="18.5" r="2.5"></circle>
                <circle cx="18.5" cy="18.5" r="2.5"></circle>
              </svg>
            </div>
            <h3>Getting Around</h3>
          </div>
          <ul class="tip-list">
            {shoppingData.generalTips.transport.map((tip) => (
              <li>{tip}</li>
            ))}
          </ul>
        </Card>
      </div>
    </section>

    <!-- Important Notice -->
    <aside class="notice-section">
      <Card class="notice-card">
        <div class="notice-content">
          <div class="notice-icon">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <circle cx="12" cy="12" r="10"></circle>
              <line x1="12" y1="8" x2="12" y2="12"></line>
              <line x1="12" y1="16" x2="12.01" y2="16"></line>
            </svg>
          </div>
          <div class="notice-text">
            <strong>Important:</strong> Most silk shops in Chennai are closed on Tuesdays.
            Plan your shopping accordingly. Prices and availability may change; this guide
            reflects general information as of late 2024. Always verify opening hours before visiting.
          </div>
        </div>
      </Card>
    </aside>

    <!-- Back to Home -->
    <div class="back-link-container">
      <a href="/" class="back-link">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="20"
          height="20"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        >
          <line x1="19" y1="12" x2="5" y2="12"></line>
          <polyline points="12 19 5 12 12 5"></polyline>
        </svg>
        <span>Back to Home</span>
      </a>
    </div>
  </div>
</BaseLayout>

<style>
  .shopping-container {
    max-width: 1200px;
    margin: 0 auto;
  }

  /* Page Header */
  .page-header {
    text-align: center;
    padding: var(--spacing-8) var(--spacing-4);
    background: linear-gradient(
      135deg,
      var(--color-gold-500) 0%,
      var(--color-orange-500) 100%
    );
    border-radius: var(--radius-card);
    margin-bottom: var(--spacing-6);
    color: white;
  }

  .header-content {
    max-width: 700px;
    margin: 0 auto;
  }

  .page-title {
    font-size: var(--font-size-4xl);
    font-weight: var(--font-weight-bold);
    margin-bottom: var(--spacing-3);
    color: white;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  }

  .page-subtitle {
    font-size: var(--font-size-lg);
    opacity: 0.95;
    margin: 0;
    line-height: var(--line-height-relaxed);
  }

  /* Quick Navigation */
  .quick-nav {
    display: flex;
    align-items: center;
    gap: var(--spacing-3);
    padding: var(--spacing-4);
    background-color: white;
    border-radius: var(--radius-card);
    box-shadow: var(--shadow-card);
    margin-bottom: var(--spacing-8);
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
  }

  .nav-label {
    font-weight: var(--font-weight-medium);
    color: var(--color-earth-600);
    white-space: nowrap;
  }

  .nav-links {
    display: flex;
    gap: var(--spacing-2);
    flex-wrap: wrap;
  }

  .nav-link {
    display: inline-flex;
    align-items: center;
    gap: var(--spacing-1);
    padding: var(--spacing-2) var(--spacing-3);
    background-color: var(--color-cream-100);
    color: var(--color-earth-700);
    border-radius: var(--radius-button);
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-medium);
    text-decoration: none;
    white-space: nowrap;
    transition: all 0.2s ease;
  }

  .nav-link:hover {
    background-color: var(--color-gold-100);
    color: var(--color-gold-800);
    text-decoration: none;
  }

  .nav-icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    font-size: var(--font-size-xs);
    font-weight: var(--font-weight-bold);
  }

  .nav-icon.women {
    background-color: var(--color-orange-200);
    color: var(--color-orange-700);
  }

  .nav-icon.men {
    background-color: var(--color-earth-200);
    color: var(--color-earth-700);
  }

  /* Attire Guides */
  .attire-guides {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: var(--spacing-6);
    margin-bottom: var(--spacing-10);
  }

  .attire-guide {
    scroll-margin-top: var(--spacing-20);
  }

  .guide-card {
    height: 100%;
  }

  .guide-header {
    display: flex;
    align-items: center;
    gap: var(--spacing-3);
    padding-bottom: var(--spacing-4);
    border-bottom: 2px solid var(--color-border-light);
    margin-bottom: var(--spacing-4);
  }

  .guide-header.women .guide-icon {
    background-color: var(--color-orange-100);
    color: var(--color-orange-600);
  }

  .guide-header.men .guide-icon {
    background-color: var(--color-earth-100);
    color: var(--color-earth-600);
  }

  .guide-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 56px;
    height: 56px;
    border-radius: 50%;
    flex-shrink: 0;
  }

  .guide-title {
    font-size: var(--font-size-xl);
    font-weight: var(--font-weight-semibold);
    color: var(--color-earth-900);
    margin: 0;
  }

  .guide-content {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-4);
  }

  .guide-content h3 {
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-semibold);
    color: var(--color-earth-700);
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin: 0 0 var(--spacing-2) 0;
  }

  .recommendations ul,
  .attire-tips ul {
    margin: 0;
    padding-left: var(--spacing-4);
    font-size: var(--font-size-sm);
    color: var(--color-text-secondary);
    display: flex;
    flex-direction: column;
    gap: var(--spacing-1);
  }

  .recommendations ul li::marker,
  .attire-tips ul li::marker {
    color: var(--color-gold-500);
  }

  .colors-section p {
    margin: 0;
    font-size: var(--font-size-sm);
    color: var(--color-text-secondary);
  }

  .price-guide {
    background-color: var(--color-cream-100);
    padding: var(--spacing-3);
    border-radius: var(--radius-sm);
  }

  .price-table {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-2);
  }

  .price-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: var(--font-size-sm);
  }

  .price-label {
    color: var(--color-earth-600);
  }

  .price-value {
    color: var(--color-earth-800);
    font-weight: var(--font-weight-medium);
  }

  /* Section Title */
  .section-title {
    font-size: var(--font-size-2xl);
    font-weight: var(--font-weight-bold);
    color: var(--color-earth-900);
    margin-bottom: var(--spacing-6);
    padding-bottom: var(--spacing-3);
    border-bottom: 2px solid var(--color-gold-300);
  }

  /* Shopping Areas */
  .shopping-areas {
    margin-bottom: var(--spacing-10);
  }

  /* General Tips */
  .general-tips {
    margin-bottom: var(--spacing-10);
    scroll-margin-top: var(--spacing-20);
  }

  .tips-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: var(--spacing-6);
  }

  .tip-card {
    height: 100%;
  }

  .tip-header {
    display: flex;
    align-items: center;
    gap: var(--spacing-3);
    margin-bottom: var(--spacing-4);
  }

  .tip-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 44px;
    height: 44px;
    border-radius: 50%;
    flex-shrink: 0;
  }

  .tip-icon.bargaining {
    background-color: var(--color-gold-100);
    color: var(--color-gold-600);
  }

  .tip-icon.quality {
    background-color: var(--color-orange-100);
    color: var(--color-orange-600);
  }

  .tip-icon.timing {
    background-color: var(--color-earth-100);
    color: var(--color-earth-600);
  }

  .tip-icon.payment {
    background-color: var(--color-cream-200);
    color: var(--color-earth-700);
  }

  .tip-icon.transport {
    background-color: var(--color-gold-100);
    color: var(--color-gold-700);
  }

  .tip-header h3 {
    font-size: var(--font-size-lg);
    font-weight: var(--font-weight-semibold);
    color: var(--color-earth-900);
    margin: 0;
  }

  .tip-list {
    margin: 0;
    padding-left: var(--spacing-4);
    font-size: var(--font-size-sm);
    color: var(--color-text-secondary);
    display: flex;
    flex-direction: column;
    gap: var(--spacing-2);
  }

  .tip-list li::marker {
    color: var(--color-gold-500);
  }

  /* Notice Section */
  .notice-section {
    margin-bottom: var(--spacing-8);
  }

  .notice-card {
    border-left: 4px solid var(--color-orange-500);
  }

  .notice-content {
    display: flex;
    align-items: flex-start;
    gap: var(--spacing-3);
  }

  .notice-icon {
    color: var(--color-orange-500);
    flex-shrink: 0;
  }

  .notice-text {
    font-size: var(--font-size-sm);
    color: var(--color-text-secondary);
    line-height: var(--line-height-relaxed);
  }

  .notice-text strong {
    color: var(--color-earth-800);
  }

  /* Back Link */
  .back-link-container {
    text-align: center;
    padding-top: var(--spacing-4);
    padding-bottom: var(--spacing-8);
  }

  .back-link {
    display: inline-flex;
    align-items: center;
    gap: var(--spacing-2);
    color: var(--color-gold-700);
    font-weight: var(--font-weight-medium);
    padding: var(--spacing-3) var(--spacing-6);
    border-radius: var(--radius-button);
    transition: all 0.2s ease;
  }

  .back-link:hover {
    color: var(--color-gold-800);
    background-color: var(--color-gold-100);
    text-decoration: none;
  }

  /* Responsive */
  @media (max-width: 1023px) {
    .attire-guides {
      grid-template-columns: 1fr;
    }
  }

  @media (max-width: 767px) {
    .page-header {
      padding: var(--spacing-6) var(--spacing-3);
    }

    .page-title {
      font-size: var(--font-size-2xl);
    }

    .page-subtitle {
      font-size: var(--font-size-base);
    }

    .quick-nav {
      flex-direction: column;
      align-items: flex-start;
    }

    .nav-links {
      width: 100%;
    }

    .nav-link {
      flex: 1;
      justify-content: center;
      min-width: 0;
    }

    .guide-header {
      flex-direction: column;
      text-align: center;
    }

    .section-title {
      font-size: var(--font-size-xl);
    }

    .tips-grid {
      grid-template-columns: 1fr;
    }
  }
</style>
